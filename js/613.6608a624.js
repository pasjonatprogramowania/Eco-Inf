(self["webpackChunkecoinf"]=self["webpackChunkecoinf"]||[]).push([[613],{6613:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>O});var t=a(2494),n=a(5626);const i=(0,t.Uk)("Eco-Inf"),o={class:"q-gutter-md row inline items-center justify-center"},u={key:0,class:"text-subtitle1 row justify-end q-pa-md"};function r(e,l,a,r,s,c){const d=(0,t.up)("q-img"),g=(0,t.up)("q-avatar"),b=(0,t.up)("q-toolbar-title"),m=(0,t.up)("q-btn"),p=(0,t.up)("q-toolbar"),h=(0,t.up)("q-route-tab"),y=(0,t.up)("q-tabs"),w=(0,t.up)("q-header"),f=(0,t.up)("q-footer"),k=(0,t.up)("router-view"),v=(0,t.up)("q-page-container"),I=(0,t.up)("q-layout"),_=(0,t.Q2)("ripple");return s.dataReady?((0,t.wg)(),(0,t.j4)(I,{key:0,view:"lHh Lpr lFf"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{elevated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{src:s.img},null,8,["src"])])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[i])),_:1}),(0,t._)("div",o,[c.isUserSignedIn()?((0,t.wg)(),(0,t.j4)(m,{key:0,label:"Zaloguj sie",class:"bg-white text-black",to:"/",onClick:c.signOut},null,8,["onClick"])):((0,t.wg)(),(0,t.j4)(m,{key:1,label:"Wyloguj siÄ™",class:"bg-white text-black",onClick:c.signOut},null,8,["onClick"]))])])),_:1}),c.isUserSignedIn()?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",u," Witaj: "+(0,n.zw)(s.userEmail),1)),(0,t.Wm)(y,{modelValue:s.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>s.tab=e),"inline-label":"",align:"left",class:"text-white desktop-only"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.navs,((e,l)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(h,{exect:"",key:l,to:e.to,icon:e.icon,label:e.label,name:e.label,class:(0,n.C_)(e.forSignInOnly&&c.isUserSignedIn()?"hidden-tab":"")},null,8,["to","icon","label","name","class"])),[[_]]))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(d,{class:"header-image absolute-top",src:s.navbarBackgroundImg},null,8,["src"])])),_:1}),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:s.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>s.tab=e),dense:"",align:"center",class:"text-white mobile-only"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.navs,((e,l)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(h,{exect:"",key:l,to:e.to,icon:e.icon,label:e.label,name:e.label,class:(0,n.C_)(e.forSignInOnly&&c.isUserSignedIn()?"hidden-tab":"")},null,8,["to","icon","label","name","class"])),[[_]]))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k)])),_:1})])),_:1})):(0,t.kq)("",!0)}var s=a(2490),c=a(6099),d=a.n(c),g=a(2729),b=a.n(g);const m={name:"MainLayout",data(){return{dataReady:!1,userEmail:"",navbarBackgroundImg:d(),img:b(),tab:"home",navs:[{label:"Projekt",icon:"lightbulb",to:"/informacje",forSignInOnly:!1},{label:"Galeria",icon:"collections",to:"/galeria",forSignInOnly:!1},{label:"Statystyki",icon:"signal_cellular_alt",to:"/statystyki",forSignInOnly:!1},{label:"Uczniowie",icon:"volunteer_activism",to:"/uczen",forSignInOnly:!0},{label:"Nauczyciel",icon:"school",to:"/nauczyciel",forSignInOnly:!0}]}},async mounted(){await this.fetchUserEmail(),this.isUserSignedIn(),this.dataReady=!0},methods:{dataGroupToFetch(){return"/uczen"===this.$router.currentRoute._value.path?"users":"/nauczyciel"===this.$router.currentRoute._value.path?"teachers":null},async fetchUserEmail(){var e;let l=this.dataGroupToFetch();l&&(this.userEmail=(await s.db.collection(l).doc(null===(e=s.auth.currentUser)||void 0===e?void 0:e.uid).get()).data().email)},isUserSignedIn(){var e;return null===(e=s.auth.currentUser)||void 0===e||!e.uid},signOut(){s.auth&&s.auth.signOut().then((()=>{this.$router.push("/")})).catch((e=>console.error(e)))}}};var p=a(4260),h=a(3066),y=a(3812),w=a(9570),f=a(5096),k=a(4152),v=a(3747),I=a(4607),_=a(2496),q=a(208),S=a(1762),U=a(2652),Z=a(6489),W=a(7518),j=a.n(W);const Q=(0,p.Z)(m,[["render",r]]),O=Q;j()(m,"components",{QLayout:h.Z,QHeader:y.Z,QToolbar:w.Z,QAvatar:f.Z,QImg:k.Z,QToolbarTitle:v.Z,QBtn:I.Z,QTabs:_.Z,QRouteTab:q.Z,QFooter:S.Z,QPageContainer:U.Z}),j()(m,"directives",{Ripple:Z.Z})},6099:(e,l,a)=>{e.exports=a.p+"img/banner.74dd4cdf.png"},2729:(e,l,a)=>{e.exports=a.p+"img/logo-app.6160a532.png"}}]);