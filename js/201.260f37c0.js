(self["webpackChunkecoinf"]=self["webpackChunkecoinf"]||[]).push([[201],{5201:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>C});var t=l(2494),n=l(5626);const i=(0,t.Uk)("Eco-Inf"),o={class:"q-gutter-md row inline items-center justify-center"},s={key:0,class:"text-subtitle1 row justify-end q-pa-md"};function u(e,a,l,u,r,c){const d=(0,t.up)("q-img"),g=(0,t.up)("q-avatar"),b=(0,t.up)("q-toolbar-title"),m=(0,t.up)("q-btn"),h=(0,t.up)("q-toolbar"),p=(0,t.up)("q-route-tab"),y=(0,t.up)("q-tabs"),w=(0,t.up)("q-header"),f=(0,t.up)("q-footer"),k=(0,t.up)("router-view"),v=(0,t.up)("q-page-container"),I=(0,t.up)("q-layout"),_=(0,t.Q2)("ripple");return r.dataReady?((0,t.wg)(),(0,t.j4)(I,{key:0,view:"lHh Lpr lFf"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{elevated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{src:r.img},null,8,["src"])])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[i])),_:1}),(0,t._)("div",o,[c.isUserSignedIn()?((0,t.wg)(),(0,t.j4)(m,{key:0,label:"Zaloguj sie",class:"bg-white text-black",to:"/",onClick:c.signOut},null,8,["onClick"])):((0,t.wg)(),(0,t.j4)(m,{key:1,label:"Wyloguj siÄ™",class:"bg-white text-black",onClick:c.signOut},null,8,["onClick"]))])])),_:1}),c.isUserSignedIn()?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",s," Witaj: "+(0,n.zw)(r.userEmail),1)),(0,t.Wm)(y,{modelValue:r.tab,"onUpdate:modelValue":a[0]||(a[0]=e=>r.tab=e),"inline-label":"",align:"left",class:"text-white desktop-only"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.navs,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(p,{exect:"",key:a,to:e.to,icon:e.icon,label:e.label,name:e.label,class:(0,n.C_)(e.forSignInOnly&&c.isUserSignedIn()?"hidden-tab":"")},null,8,["to","icon","label","name","class"])),[[_]]))),128))])),_:1},8,["modelValue"]),(0,t.Wm)(d,{class:"header-image absolute-top",src:r.navbarBackgroundImg},null,8,["src"])])),_:1}),(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{modelValue:r.tab,"onUpdate:modelValue":a[1]||(a[1]=e=>r.tab=e),dense:"",align:"center",class:"text-white mobile-only"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.navs,((e,a)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(p,{exect:"",key:a,to:e.to,icon:e.icon,label:e.label,name:e.label,class:(0,n.C_)(e.forSignInOnly&&c.isUserSignedIn()?"hidden-tab":"")},null,8,["to","icon","label","name","class"])),[[_]]))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k)])),_:1})])),_:1})):(0,t.kq)("",!0)}var r=l(2490),c=l(6099),d=l.n(c),g=l(2729),b=l.n(g);const m={name:"MainLayout",data(){return{dataReady:!1,userEmail:"",navbarBackgroundImg:d(),img:b(),tab:"home",navs:[{label:"Projekt",icon:"lightbulb",to:"/informacje",forSignInOnly:!1},{label:"Galeria",icon:"collections",to:"/galeria",forSignInOnly:!1},{label:"Statystyki",icon:"signal_cellular_alt",to:"/statystyki",forSignInOnly:!1},{label:"Uczniowie",icon:"volunteer_activism",to:"/uczen",forSignInOnly:!0},{label:"Nauczyciel",icon:"school",to:"/nauczyciel",forSignInOnly:!0}]}},async mounted(){await this.isUserSignedIn(),await this.fetchUserEmail(),this.dataReady=!0},methods:{decideWhouseris(){return"/uczen"===this.$router.currentRoute._value.path?"users":"/nauczyciel"===this.$router.currentRoute._value.path?"teachers":null},async fetchUserEmail(){let e=this.decideWhouseris();e&&r.auth.onAuthStateChanged((async a=>{this.userEmail=(await r.db.collection(e).doc(a.uid).get()).data().email}))},async isUserSignedIn(){r.auth.onAuthStateChanged((e=>!e.uid))},signOut(){r.auth&&r.auth.signOut().then((()=>{this.$router.push("/")})).catch((e=>console.error(e)))}}};var h=l(4260),p=l(3066),y=l(3812),w=l(9570),f=l(5096),k=l(4152),v=l(3747),I=l(4607),_=l(2496),S=l(208),q=l(1762),W=l(2652),Z=l(6489),j=l(7518),Q=l.n(j);const U=(0,h.Z)(m,[["render",u]]),C=U;Q()(m,"components",{QLayout:p.Z,QHeader:y.Z,QToolbar:w.Z,QAvatar:f.Z,QImg:k.Z,QToolbarTitle:v.Z,QBtn:I.Z,QTabs:_.Z,QRouteTab:S.Z,QFooter:q.Z,QPageContainer:W.Z}),Q()(m,"directives",{Ripple:Z.Z})},6099:(e,a,l)=>{e.exports=l.p+"img/banner.74dd4cdf.png"},2729:(e,a,l)=>{e.exports=l.p+"img/logo-app.6160a532.png"}}]);